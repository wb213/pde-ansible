# Personal Development Environment - Zinit Plugin Manager Configuration
# Zinit installation and plugin management

# Zinit Manual Configuration
ZINIT_HOME="${XDG_DATA_HOME:-${HOME}/.local/share}/zinit/zinit.git"
[ ! -d $ZINIT_HOME ] && mkdir -p "$(dirname $ZINIT_HOME)"
[ ! -d $ZINIT_HOME/.git ] && git clone https://github.com/zdharma-continuum/zinit.git "$ZINIT_HOME"
source "${ZINIT_HOME}/zinit.zsh"

# Performance: Load completions in background
autoload -Uz _zinit
(( ${+_comps} )) && _comps[zinit]=_zinit

# Essential Zsh plugins with optimized loading
zinit wait lucid for \
    atinit"ZINIT[COMPINIT_OPTS]=-C; zicompinit; zicdreplay" \
        zdharma-continuum/fast-syntax-highlighting \
    atload"!_zsh_autosuggest_start" \
        zsh-users/zsh-autosuggestions \
    blockf \
        zsh-users/zsh-completions

# Load zsh-defer for lazy loading other tools
zinit light romkatv/zsh-defer
